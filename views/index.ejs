<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="action.js"></script>
    <title>Cadastro</title>
</head>
<body>
  
<h1>olar mundo </h1>

<table>


    <%= anime %>

    <% usuarios.forEach(usuario => { %>
        <li><strong><%= usuario.id %></strong> - <%= usuario.nome %> - <%= usuario.email %> </li>
    <% }) %>

    <thead>
        <tr>
            <!-- Substitua 'id' e 'nome' pelos nomes reais das colunas da sua tabela -->
            <th>ID</th>
            <th>Nome</th>
            <th>email</th>

        </tr>
    </thead>
  
    <div id="usuarios" data-usuarios='<%= JSON.stringify(usuarios) %>'></div>
</table>


 <p align="center" id="mostrar">mostrar : </p>


<form id="novo">

nome: <input type="text"  id="procurar" placeholder="digita o seu nome..." required>

<button onclick="apertar()"> buscar </button>

<div id="saida">saidar:</div>
</form>
</body>
<script>


  const teste = JSON.parse(document.getElementById('usuarios').getAttribute('data-usuarios'));

    function buscar(filtro) {
        const saida_nome = document.getElementById("saida");
        saida_nome.innerHTML="";


        const filtro_nome = teste.filter(nomes => 
            nomes.nome.tolowercase().includes(filtro.tolowercase()))
        };

        filtro_nome.forEach(element => {
            const p =document.createElement('p');
            p.textContent= element.nome;
            saida_nome.appendchild(p);
        });

        function buscarNome() {
    const filtro = document.getElementById('procurar').value; // Obtém o valor do input
    buscar(filtro); // Chama a função de filtragem
  }








// const nomes =teste.map(novo => novo.nome)
    


//     nomes.forEach(pessoas => {
    
//     if (pessoas=== 'luiz') {
       
//         document.getElementById('mostrar').innerHTML+= pessoas;
//     }
    
    
// });




</script>


<!-- 
<script>

    const usuarios = <%- JSON.stringify(usuarios) %>; // Convertendo para JSON
    console.log(usuarios);
    
    
    
    
    // o foreach faz a consulta do valor do banco de dados 
    usuarios.forEach(element => {
    //   console.log("parabéns"+element.nome)
    
        if (element.nome === 'luiz') {
            console.log(element.nome + " é o meu nome !!");
        }else{
            console.log(element.nome + " não é o meu nome !!");
        }
    
    
     
    });
    
    </script> -->
    
</html>
